@model IEnumerable<ELearning.Models.Course>
@using PagedList.Mvc;
@using PagedList;

@{
    ViewBag.Title = "Courses";
}

<h2>Available Cources</h2>

@{
    if (ViewBag.role == "ADMIN" || ViewBag.role == "INSTRUCTOR")
    {
        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
    }
}


@*<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Discription)
        </th>
        <th>
            Owner
        </th>
        <th></th>
    </tr>*@

    @*@foreach (var item in Model)
    {*@
        @*<tr>

            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Discription)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ApplicationUser.Email)
            </td>
            <td>*@
                @*<p>@ViewBag.role </p>*@

                @{
                    @*if (ViewBag.role == "ADMIN" || ViewBag.role == "INSTRUCTOR")
                    {
                        <p>
                            @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                            @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                        </p>
                    }
                    else
                    {
                        <p>
                            @Html.ActionLink("Details", "Details", new { id = item.ID })
                        </p>

                    }*@
                }

                @*@Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
                    @Html.ActionLink("Details", "Details", new { id=item.ID }) |
                    @Html.ActionLink("Delete", "Delete", new { id=item.ID })*@
            @*</td>
        </tr>
                    }
    
    
</table>*@

<div class="container">
    <div class="row">
        @foreach(var item in ViewBag.OnePageOfProducts)
        {
            <div class="col-md-4">
                

                @*<div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            @Html.ActionLink((string)item.Name, "Details", new { id = item.ID })
                            <img src="~/Content/Images/@item.Image" class="img-responsive img-thumbnail" style="max-height:150px;" />
                        </h3>
                    </div>
                    <div class="panel-body">
                        Panel content
                    </div>
                    <div class="panel-footer">Panel footer</div>
                </div>*@


                <div class="jumbotron"  style="height:60ch;">
                    <div>
                        <img src="~/Content/Images/@item.Image" class="img-responsive img-thumbnail" style="max-height:150px;" />
                        <h3>

                            @Html.ActionLink((string)item.Name, "Details", new { id = item.ID })

                        </h3>
                        @if (item.Price <= 0)
                        {
                            <span class="label label-primary " style="float:right">Free</span>
                        }
                        else
                        {
                            <span class="label label-default " style="float:right">$@item.Price</span>
                        }
                    </div>
                   
                    <p style="text-align:left ; font-size:smaller; color:gray">
                        <b>By : </b>
                        @item.ApplicationUser.FullName
                    </p>
                    <hr />
                    <p style="overflow:hidden;height:5ch; max-height:5ch; font-size:18px;">
                         @item.Discription
                    </p>

                    @{
                        if (ViewBag.role == "ADMIN" || ViewBag.role == "INSTRUCTOR")
                        {
                            <p style="font-size:small;">
                                @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                                @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                                @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                            </p>
                        }
                        else
                        {
                            <p style="font-size:small">
                                @Html.ActionLink("Details", "Details", new { id = item.ID })
                            </p>

                        }
                    }
                    
                    

                </div>

            </div>
        }
        
    </div>
</div>
@*<h2>List of Products</h2>
    <ul>
        @foreach (var product in ViewBag.OnePageOfProducts)
        {
            <li>@product.Name</li>
            
        }
    </ul>*@
<center>
    

    @Html.PagedListPager((IPagedList)ViewBag.OnePageOfProducts, page => Url.Action("Index", new { page }))
</center>